<section class="pb-6" data-testid="home-page">
  <div class="win-border bg-win-surface" data-testid="about">
    <div class="px-4 py-4" data-testid="about-inner">
      <div class="text-sm leading-relaxed" data-testid="artist-about"><%= artist.about %></div>
      <div class="mt-2 flex flex-wrap items-center gap-2" data-testid="artist-social">
        <% if (artist.socials.websiteUrl) { %>
          <a class="inline-flex h-8 w-8 items-center justify-center" href="<%= artist.socials.websiteUrl %>" target="_blank" rel="noopener" data-testid="artist-social-website" aria-label="Website">
            <span class="inline-flex items-center text-win-blue">
              <span aria-hidden="true">üåê</span>
            </span>
          </a>
        <% } %>
        <% if (artist.socials.xUrl) { %>
          <a class="inline-flex h-8 w-8 items-center justify-center" href="<%= artist.socials.xUrl %>" target="_blank" rel="noopener" data-testid="artist-social-x" aria-label="X">
            <span class="inline-flex items-center text-win-black">
              <span aria-hidden="true">ùïè</span>
            </span>
          </a>
        <% } %>
        <% if (artist.socials.githubUrl) { %>
          <a class="inline-flex h-8 w-8 items-center justify-center" href="<%= artist.socials.githubUrl %>" target="_blank" rel="noopener" data-testid="artist-social-github" aria-label="GitHub">
            <span class="inline-flex items-center text-win-maroon">
              <span aria-hidden="true">üêô</span>
            </span>
          </a>
        <% } %>
      </div>
    </div>
  </div>

  <div class="mt-6" data-testid="collections">
    <div class="text-sm font-bold" data-testid="collections-title">Collections</div>

    <div class="mt-3 grid grid-cols-[repeat(auto-fill,minmax(240px,1fr))] gap-4" data-testid="collections-grid">
      <% (collections ?? []).forEach((collection) => { %>
        <a
          class="win-border group block bg-win-surface text-win-black"
          href="/<%= encodeURIComponent(collection.slug) %>"
          data-testid="collection-card"
          data-collection-slug="<%= collection.slug %>"
        >
          <div class="relative aspect-square win-inset bg-white" data-controller="image">
            <div
              class="absolute inset-0 win-skeleton"
              data-image-target="skeleton"
            ></div>
            <% if (collection.thumbnail.isImage) { %>
              <img
                src="<%= collection.thumbnail.contentUrl %>"
                alt="<%= collection.title %>"
                loading="lazy"
                decoding="async"
                style="image-rendering: pixelated"
                class="block h-full w-full object-cover opacity-0 transition-opacity duration-300"
                data-image-target="img"
                data-action="load->image#loaded error->image#error"
                data-testid="collection-thumb"
              />
            <% } else { %>
              <iframe
                src="<%= collection.thumbnail.previewUrl %>"
                class="block h-full w-full border-0 pointer-events-none opacity-0 transition-opacity duration-300"
                loading="lazy"
                allow="accelerometer; gyroscope"
                data-image-target="media"
                data-action="load->image#loaded error->image#error"
                data-testid="collection-thumb"
              ></iframe>
            <% } %>
          </div>
          <div class="px-3 py-3">
            <div class="flex min-w-0 items-center gap-2" data-testid="collection-title">
              <span class="min-w-0 truncate text-sm font-bold leading-snug tracking-tight"><%= collection.title %></span>
              <% if (collection.hasGallery) { %>
                <span class="shrink-0 text-win-maroon" data-testid="collection-gallery-icon" aria-label="Gallery collection">üñºÔ∏è</span>
              <% } else if (collection.hasParent) { %>
                <span class="shrink-0 text-win-maroon" data-testid="collection-parent-icon" aria-label="Parent collection">üß¨</span>
              <% } %>
            </div>
            <div class="mt-2 flex items-center gap-2">
              <div class="font-mono text-[11px] text-win-green" data-testid="collection-price"><%= formatSats(collection.priceSats) %></div>
              <div class="inline-flex items-center gap-2 bg-white px-2 py-0.5 win-border font-mono text-[11px]" data-testid="collection-available">
                <span class="ord-dot text-win-gray" aria-hidden="true">‚óâ</span>
                <span class="text-win-black"><%= collection.availableCount %></span>
              </div>
            </div>
          </div>
        </a>
      <% }) %>
    </div>
  </div>
</section>

